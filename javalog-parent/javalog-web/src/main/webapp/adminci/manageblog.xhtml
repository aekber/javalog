<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
 
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://java.sun.com/jsf/html"
	  xmlns:f="http://java.sun.com/jsf/core"
	  xmlns:ui="http://java.sun.com/jsf/facelets"
	  xmlns:a4j="http://richfaces.org/a4j"
	  xmlns:rich="http://richfaces.org/rich"
	  xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	  xmlns:eko="http://www.javalog.net/jsf/util"
	  xmlns:pretty="http://ocpsoft.com/prettyfaces">

	<ui:composition template="../WEB-INF/admin/atemplate.xhtml">

		<ui:define name="title">Manage Blog | Amanda Admin Template</ui:define>
		
		<ui:define name="scripts">
	    	
			<script type="text/javascript" src="#{request.contextPath}/adminci/js/plugins/jquery-1.7.min.js"></script>
			<script type="text/javascript" src="#{request.contextPath}/adminci/js/plugins/jquery-ui-1.8.16.custom.min.js"></script>
			<script type="text/javascript" src="#{request.contextPath}/adminci/js/plugins/jquery.cookie.js"></script>
			<script type="text/javascript" src="#{request.contextPath}/adminci/js/plugins/jquery.alerts.js"></script>
			<script type="text/javascript" src="#{request.contextPath}/adminci/js/plugins/jquery.uniform.min.js"></script>
			<script type="text/javascript" src="#{request.contextPath}/adminci/js/custom/general.js"></script>
			<script type="text/javascript" src="#{request.contextPath}/adminci/js/custom/blog.js"></script>
	    
	    </ui:define>
		
		<ui:define name="leftmenu">
	
		    <div class="vernav">
		    	<ul>
		        	<li class="current"><a href="/faces/zekber/javalog/administration/manageblog/" class="editor">Posts</a></li>
		            <li><a href="#{request.contextPath}/faces/zekber/javalog/administration/manageblog/newpost/">Create New Post</a></li>
		            <li><a href="#{request.contextPath}/faces/zekber/javalog/administration/manageblog/comments/">Comments</a></li>
		            <li><a href="#{request.contextPath}/faces/zekber/javalog/administration/manageblog/articles/">Articles</a></li>
		            <li><a href="#{request.contextPath}/faces/zekber/javalog/administration/manageblog/subcategories/">Subcategories</a></li>
		            <li><a href="#{request.contextPath}/faces/zekber/javalog/administration/manageblog/categories/">Categories</a></li>
		        </ul>
		        <a class="togglemenu"></a>
		    </div><!--leftmenu-->
	    
	    </ui:define>
		
		<ui:define name="content">
		
			<div class="pageheader">
	            <h1 class="pagetitle">Manage Blog</h1>
	            <span class="pagedesc">The content below are loaded using ajax</span>
	            
	            <ul class="hornav blogmenu">
	                <li class="current"><a href="ajax/blog/allposts.jsf">All Post (5)</a></li>
	                <li><a href="ajax/blog/published.jsf">Published (5)</a></li>
	                <li><a href="ajax/blog/draft.jsf">Draft (3)</a></li>
	                <li><a href="ajax/blog/trash.jsf">Trash (1)</a></li>
	            </ul>
	        </div><!--pageheader-->
	        
	        <div class="contentwrapper" id="contentwrapper">
				<div class="contenttitle">
					<h4>All Posts</h4>
				</div><!--contenttitle-->	
				<table cellspacing="0" cellpadding="0" border="0" class="stdtable blogtable">
					<colgroup>
						<col class="con0" />
						<col class="con1" />
						<col class="con0" />
						<col class="con1" />
						<col class="con0" />
						<col class="con1" />
					</colgroup>
					<thead>
					<tr>
						<th width="20" class="head1 aligncenter">
							<div class="checker" id="uniform-undefined">
								<span>
									<input type="checkbox" class="checkall" name="checkall" style="opacity: 0;" />
								</span>
							</div>
						</th>
						<th class="head0">Title</th>
						<th class="head1">Author</th>
						<th class="head0">Categories</th>
						<th class="head1"></th>
					</tr>
					</thead>
					<tbody>
						<tr>
							<td class="aligncenter">
								<div class="checker" id="uniform-undefined">
									<span>
										<input type="checkbox" name="" style="opacity: 0;" />
									</span>
								</div>
							</td>
							<td class="con0"><a class="title" href="viewblog.html">Learn jQuery in 3 Days</a></td>
							<td class="con1">themepixels</td>
							<td class="con0">History</td>
							<td class="actions aligncenter">
								<a href="editblog.html">Edit</a> 
								<a class="quickview" href="ajax/blog/quickedit.html">Quick Edit</a> 
								<a href="">View</a> 
								<a class="delete" href="">Delete</a>
							</td>
						</tr>
						<tr>
							<td class="aligncenter"><div class="checker" id="uniform-undefined"><span><input type="checkbox" name="" style="opacity: 0;" /></span></div></td>
							<td class="con0"><a class="title" href="viewblog.html">Turn On HTML5 In IE8 or Lower</a></td>
							<td class="con1">themepixels</td>
							<td class="con0">History</td>
							<td class="actions aligncenter">
								<a href="editblog.html">Edit</a> <a class="quickview" href="ajax/blog/quickedit.html">Quick Edit</a> <a href="">View</a> <a class="delete" href="">Delete</a>
							</td>
						</tr><tr>
							<td class="aligncenter"><div class="checker" id="uniform-undefined"><span><input type="checkbox" name="" style="opacity: 0;" /></span></div></td>
							<td class="con0"><a class="title" href="viewblog.html">How to Make a Website Responsive</a></td>
							<td class="con1">themepixels</td>
							<td class="con0">History</td>
							<td class="actions aligncenter">
								<a href="editblog.html">Edit</a> <a class="quickview" href="ajax/blog/quickedit.html">Quick Edit</a> <a href="">View</a> <a class="delete" href="">Delete</a>
							</td>
						</tr><tr>
							<td class="aligncenter"><div class="checker" id="uniform-undefined"><span><input type="checkbox" name="" style="opacity: 0;" /></span></div></td>
							<td class="con0"><a class="title" href="viewblog.html">How to Create HTML5 Video for Your Website</a></td>
							<td class="con1">themepixels</td>
							<td class="con0">History</td>
							<td class="actions aligncenter">
								<a href="editblog.html">Edit</a> <a class="quickview" href="ajax/blog/quickedit.html">Quick Edit</a> <a href="">View</a> <a class="delete" href="">Delete</a>
							</td>
						</tr><tr>
							<td class="aligncenter"><div class="checker" id="uniform-undefined"><span><input type="checkbox" name="" style="opacity: 0;" /></span></div></td>
							<td class="con0"><a class="title" href="viewblog.html">Getting To Know HTML5 Placeholder</a></td>
							<td class="con1">themepixels</td>
							<td class="con0">History</td>
							<td class="actions aligncenter">
								<a href="editblog.html">Edit</a> <a class="quickview" href="ajax/blog/quickedit.html">Quick Edit</a> <a href="">View</a> <a class="delete" href="">Delete</a>
							</td>
						</tr>
					</tbody>
				</table>
				
				<br />
				<br />
				<br />
				
				
				<!-- <a4j:status onstart="#{rich:component('statPane')}.show()" onstop="#{rich:component('statPane')}.hide()" /> -->
			    <h:form id="form" prependId="false">
			    
			    	<h:selectOneMenu value="#{makaleBean.currentType}" valueChangeListener="#{makaleBean.valueChanged}">
			            <f:selectItems value="#{makaleBean.firstList}" />
			            <a4j:ajax event="valueChange" render="second" execute="@this" />
			        </h:selectOneMenu>
			        
			        <br />
					<br />
			        
			        <a4j:outputPanel id="second" layout="block">
			            <h:selectOneMenu value="#{makaleBean.currentType2}" valueChangeListener="#{makaleBean.valueChanged2}" rendered="#{not empty makaleBean.currentType}">
			                <f:selectItems value="#{makaleBean.secondList}" />
			                <a4j:ajax event="valueChange" render="third" execute="@this" />
			            </h:selectOneMenu>
			        </a4j:outputPanel>
			        
					<br />
			        
			        <a4j:outputPanel id="third" layout="block">
			            <h:selectOneMenu value="#{makaleBean.currentType3}" rendered="#{not empty makaleBean.currentType2 and not empty makaleBean.currentType}">
			                <f:selectItems value="#{makaleBean.thirdList}" />
			            </h:selectOneMenu>
			        </a4j:outputPanel>
        
        			<br />
					<br />
					
				    <div class="contenttitle">
						<h4>All Posts</h4>
					</div>
			        <rich:dataTable value="#{makaleBean.allArticles}" var="car" 
			        	iterationStatusVar="it" id="table" styleClass="stdtable blogtable">
			            <rich:column styleClass="head1">
			                <f:facet name="header"></f:facet>
			                	<div class="checker aligncenter" id="uniform-undefined">
									<span>
										<input type="checkbox" name="" style="opacity: 0;" />
									</span>
								</div>
			            </rich:column>
			            <rich:column>
			                <f:facet name="header">Article ID</f:facet>
			                <h:outputText styleClass="con0" value="#{car.articleid}" />
			            </rich:column>
			            <rich:column>
			                <f:facet name="header">Article Tag</f:facet>
			                <h:outputText styleClass="con0" value="#{car.articleTag}" />
			            </rich:column>
			            <rich:column>
			                <f:facet name="header">Subcategory</f:facet>
			                <h:outputText styleClass="con1" value="#{car.subcategory.subCategoryName}" />
			            </rich:column>
			            <rich:column>
			                <f:facet name="header">Date</f:facet>
			                <h:outputText styleClass="con0" value="#{car.insertdate}" />
			            </rich:column>
			            <rich:column>
			                <f:facet name="header">Comment Count</f:facet>
			                <h:outputText styleClass="con0" value="#{fn:length(car.comments)}" />
			            </rich:column>
			            <rich:column>
			                <f:facet name="header">Popularity</f:facet>
			                <h:outputText styleClass="con0" value="#{car.popularity}" />
			            </rich:column>
			            <rich:column styleClass="actions aligncenter">
			                							
								<a href="editblog.html">Edit</a> 
								<a class="delete" href="">Delete</a>
							
			            </rich:column>
<!--  -->
			            <f:facet name="footer">
			            
			            </f:facet>

			        </rich:dataTable>			 
<!--  -->			        
			        <br/>
			        <br/>
			        
			        <rich:editor id="editor" toolbar="full" skin="kama" value="#{makaleBean.selectedArticle.content}" style="margin-bottom: 2em;">
			            <a4j:ajax event="change" render="panel" status="panelUpdateStatus" />
			            <a4j:ajax event="dirty" render="panel" status="panelUpdateStatus">
			                <a4j:attachQueue requestDelay="1000" />
			            </a4j:ajax>
			        </rich:editor>
			         
			        <rich:panel id="panel">
			            <f:facet name="header">
			                Output from Editor
			                <a4j:status name="panelUpdateStatus">
			                    <f:facet name="start">
			                        (Updating)
			                    </f:facet>
			                </a4j:status>
			            </f:facet>
			            <h:outputText escape="false" value="#{makaleBean.selectedArticle.content}" />
			        </rich:panel>
			        
			    </h:form>

    
			</div><!-- contentwrapper -->
	        	
		</ui:define>
	
	</ui:composition>
	
</html>
